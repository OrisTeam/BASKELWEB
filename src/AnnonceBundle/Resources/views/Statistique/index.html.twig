{% extends "@Annonce/Default/layout.html.twig" %}
{% block content %}
<div class="row page-titles">
    <div class="col-md-5 align-self-center">
        <ol class="breadcrumb">
            <li class="breadcrumb-item">Annonces</li>
            <li class="breadcrumb-item active"><a href="{{ path('annonce_homepage') }}">Vente</a></li>
        </ol>
    </div>
    <div class="col-md-7 align-self-center text-right">
        <div class="d-flex justify-content-end align-items-center">

            <a href="{{ path('Ajouter_annonce/') }}"  type="button" class="btn btn-info "><i class="fa fa-plus-circle"></i> Ajouter</a>
        </div>
    </div>
</div>

<div class="card-group">
    <div class="card">
        <div class="card-body">
            <div class="row">
                <div class="col-md-12">
                    <div class="d-flex no-block align-items-center">
                        <div>
                            <h3><i class="icon-screen-desktop"></i></h3>
                            <p class="text-muted">Annonces Ventes</p>
                        </div>
                        <div class="ml-auto">
                            <h2 class="counter text-primary">{{stat.vente}}%</h2>
                        </div>
                    </div>
                </div>
                <div class="col-12">
                    <div class="progress">
                        <div class="progress-bar bg-primary" role="progressbar" style="width: {{stat.vente}}%; height: 6px;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Column -->
    <!-- Column -->
    <div class="card">
        <div class="card-body">
            <div class="row">
                <div class="col-md-12">
                    <div class="d-flex no-block align-items-center">
                        <div>
                            <h3><i class="icon-note"></i></h3>
                            <p class="text-muted">Locations</p>
                        </div>
                        <div class="ml-auto">
                            <h2 class="counter text-cyan">{{stat.loc}}%</h2>
                        </div>
                    </div>
                </div>
                <div class="col-12">
                    <div class="progress">
                        <div class="progress-bar bg-cyan" role="progressbar" style="width: {{stat.loc}}%; height: 6px;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Column -->
    <!-- Column -->
    <div class="card">
        <div class="card-body">
            <div class="row">
                <div class="col-md-12">
                    <div class="d-flex no-block align-items-center">
                        <div>
                            <h3><i class="icon-doc"></i></h3>
                            <p class="text-muted">Echange</p>
                        </div>
                        <div class="ml-auto">
                            <h2 class="counter text-purple">{{stat.ech}}%</h2>
                        </div>
                    </div>
                </div>
                <div class="col-12">
                    <div class="progress">
                        <div class="progress-bar bg-purple" role="progressbar" style="width: {{stat.ech}}%; height: 6px;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Column -->
    <!-- Column -->
    <div class="card">
        <div class="card-body">
            <div class="row">
                <div class="col-md-12">
                    <div class="d-flex no-block align-items-center">
                        <div>
                            <h3><i class="icon-bag"></i></h3>
                            <p class="text-muted">Nbr Annonces </p>
                        </div>
                        <div class="ml-auto">
                            <h2 class="counter text-success">{{all}}</h2>
                        </div>
                    </div>
                </div>
                <div class="col-12">
                    <div class="progress">
                        <div class="progress-bar bg-success" role="progressbar" style="width: 100%; height: 6px;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
    <!-- ============================================================== -->
    <!-- End Info box -->
    <!-- ============================================================== -->
    <!-- ============================================================== -->
    <!-- Over Visitor, Our income , slaes different and  sales prediction -->
    <!-- ============================================================== -->


    <div class="row">

        <!-- Column -->
        <div class="col-lg-8 col-md-12">
            <div class="card">
                <div class="card-body">
                    <div class="d-flex m-b-40 align-items-center no-block">
                        <h5 class="card-title ">Etude de marché des vélos selon la méthode de Benchmarking</h5>
                        <div class="ml-auto">

                        </div>
                    </div>
                    <div id="chart-container">

                    <canvas id="bar-chart" width="800" height="450"></canvas>
                    </div>
                </div>
            </div>
        </div>
        <!-- Column -->
        <div class="col-lg-4 col-md-12">
            <div class="row">
                <!-- Column -->
                <div class="col-md-12">
                    <div class="card bg-dark text-white">
                        <div class="card-body ">
                            <div class="row weather">
                                <div class="col-6 m-t-40">
                                    <h3>&nbsp;</h3>
                                    <div id="openweathermap-widget-13"></div>

                                </div>
                                <div class="col-6 text-right">
                                    <h1 class="m-b-"><i class="wi wi-day-cloudy-high"></i></h1>
                                    <b class="text-white">Météo</b>
                                    <p class="op-5">{{ d|date("m/d/Y")}}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Column -->
                <div class="col-md-12">
                    <div class="card bg-primary text-white">
                        <div class="card-body">

                            <div id="myCarouse2" class="carousel slide" data-ride="carousel">
                                <!-- Carousel items -->
                                <div class="carousel-inner">

                                    <div class="carousel-item active">
                                        <h4 class="cmin-height">Tous vos annonse sur Baskel.tn </h4>
                                        <p></p>
                                        <div class="d-flex no-block">
                                            <span>  <img src="{{ asset('uploads/Annonces/bgapp.jpg')}}" alt="user" height="185" width="320"></span>
                                            <span class="m-l-10">
                                                    <h4 class="text-white m-b-0">Mffffff</h4>
                                                    <p class="text-white">Actor</p>
                                                    </span>
                                        </div>
                                    </div>
                                    {% for ann in tout %}

                                    <div class="carousel-item">
                                        <h4 class="cmin-height">Disponible dans Baskel.tn </h4>
                                        <p></p>
                                        <div class="d-flex no-block">
                                            <span><a href="{{ path('afficher_annonce/', { 'id': ann.annId }) }}"><img src="{{ asset('uploads/Annonces/')~ann.photo }}" alt="user" height="185" width="320"></a></span>

                                        </div>
                                    </div>
                                    {% endfor %}


                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <!-- Chart Js Scripts -->
    <div class="row">


        <!-- Column -->

        <div class="col-lg-8 col-md-12">
            <div class="card">
                <div class="card-body">
            <div id="chart-container">

                <canvas id="bar-chartL" width="800" height="450"></canvas>
            </div></div></div>



        </div>
        <!-- Column -->
        <div class="col-lg-4 col-md-12">
            <div class="row">
                <!-- Column -->

                <!-- Column -->
                <div class="col-md-12">
                    <div class="card bg-white text-dark">
                        <div class="card-body">
                            <h5 class="card-title">Annonces Statistiques</h5>
                            <div class="row">


                                <canvas id="doughnut-chart" width="80" height="85"></canvas>

                            </div>
                        </div>
                    </div>
                </div>
                <!-- Column -->
            </div>
        </div>
    </div>










    <script src="{{ asset('dist/js/perfect-scrollbar.jquery.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('package/dist/Chart.min.js') }}"></script>
    <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>

    <script>
        new Chart(document.getElementById("bar-chart"), {
            type: 'bar',
            data: {

                labels: ["100-150 ", "150-200", "200-250", "200-250", "250-300","300-350","350-400","400,450","450,500","500-550","600-650","650-700","700-750","750-800","800-850","850-900","900,950","950-100"],
                datasets: [
                    {
                        label: "Pourcentage des vélos ",
                        backgroundColor: ["#3e95cd", "#0045cd","#3e95cd","#3e95cd","#3e95cd","#3e95cd","#3e95cd","#3e95cd","#3e95cd","#3e95cd","#3e95cd","#3e95cd","#3e95cd","#3e95cd","#3e95cd","#3e95cd","#3e95cd","#3e95cd"],
                        data: [{{ annonces.var1 }},{{ annonces.var2 }},{{ annonces.var3 }},{{ annonces.var4 }},{{ annonces.var5 }},{{ annonces.var6 }},{{ annonces.var7 }},{{ annonces.var8 }},{{ annonces.var9 }},{{ annonces.var10 }},{{ annonces.var11 }},{{ annonces.var12 }},
                            {{ annonces.var13 }},{{ annonces.var14 }},{{ annonces.var15 }},{{ annonces.var16 }},{{ annonces.var17 }},{{ annonces.var18 }}]
                    }
                ]

            },

            options: {
                legend: { display: false },
                title: {
                    display: true,
                    text: 'Pourcentage des vélos à vendre celon les intervalles des prix  '
                }
            }
        });
    </script>
    <script>
        new Chart(document.getElementById("bar-chartL"), {
            type: 'bar',
            data: {

                labels: ["3-4 ", "4-5", "5-6", "6-7", "7-8","8-9","9-10","10,11","11,12","12-13","13-14","14-15","15-16","16-17","17-18","18-19","19,20","20-21"],
                datasets: [
                    {
                        label: "Pourcentage des vélos ",
                        backgroundColor: ["#3e95cd", "#0045cd","#3e95cd","#3e95cd","#3e95cd","#3e95cd","#3e95cd","#3e95cd","#3e95cd","#3e95cd","#3e95cd","#3e95cd","#3e95cd","#3e95cd","#3e95cd","#3e95cd","#3e95cd","#3e95cd"],
                        data: [{{ annoncesE.var1 }},{{ annoncesE.var2 }},{{ annoncesE.var3 }},{{ annoncesE.var4 }},{{ annoncesE.var5 }},{{ annoncesE.var6 }},{{ annoncesE.var7 }},{{ annoncesE.var8 }},{{ annoncesE.var9 }},{{ annoncesE.var10 }},{{ annoncesE.var11 }},{{ annoncesE.var12 }},
                            {{ annoncesE.var13 }},{{ annoncesE.var14 }},{{ annoncesE.var15 }},{{ annoncesE.var16 }},{{ annoncesE.var17 }},{{ annoncesE.var18 }}]
                    }
                ]

            },

            options: {
                legend: { display: false },
                title: {
                    display: true,
                    text: 'Pourcentage des vélos à louer celon les intervalles des prix  '
                }
            }
        });
    </script>
    <script>window.myWidgetParam ? window.myWidgetParam : window.myWidgetParam = [];  window.myWidgetParam.push({id: 13,cityid: '2464461',appid: '3ae385f4eb4e83ab15bd296e28b99c65',units: 'metric',containerid: 'openweathermap-widget-13',  });  (function() {var script = document.createElement('script');script.async = true;script.charset = "utf-8";script.src = "//openweathermap.org/themes/openweathermap/assets/vendor/owm/js/weather-widget-generator.js";var s = document.getElementsByTagName('script')[0];s.parentNode.insertBefore(script, s);  })();</script>
    <script>
        new Chart(document.getElementById("doughnut-chart"), {
            type: 'doughnut',
            data: {
                labels: ["Vente", "Location", "Echange"],
                datasets: [
                    {
                        label: "Population (millions)",
                        backgroundColor: ["#3e95cd", "#8e5ea2","#3cba9f"],
                        data: [{{stat.vente}},{{stat.loc}},{{stat.ech}}]
                    }
                ]
            },
            options: {

            }
        });

    </script>
{% endblock %}

















